---
const testimonios = [
  {
    nombre: "Ana García",
    texto:
      "La Academia ha transformado mi vida. Los profesores son increíbles y las clases son muy divertidas.",
    calificacion: 5,
    tipo: "alumno", // Nuevo campo
  },
  {
    nombre: "Carlos López",
    texto:
      "Mis hijos han aprendido mucho en esta academia. La disciplina y el amor por la danza que les han inculcado es invaluable.",
    calificacion: 5,
    tipo: "padre",
  },
  {
    nombre: "María Fernández",
    texto:
      "Un lugar maravilloso para aprender y disfrutar de la danza. Las instalaciones son excelentes y el ambiente es muy acogedor.",
    calificacion: 4,
    tipo: "alumno",
  },
  {
    nombre: "Sofía Martínez",
    texto:
      "Estoy impresionada con los avances de mi hija. Ha ganado confianza en sí misma y disfruta cada clase. Los profesores son muy profesionales y atentos.",
    calificacion: 5,
    tipo: "padre",
  },
  {
    nombre: "Jorge Ramírez",
    texto:
      "Desde que mis hijas comenzaron en Di Ballu, han crecido mucho en su técnica y disciplina. Además, han hecho amigos maravillosos.",
    calificacion: 5,
    tipo: "padre",
  },
  {
    nombre: "Lucía Torres",
    texto:
      "Mi hijo no solo ha mejorado su técnica de danza, sino que también ha desarrollado una increíble ética de trabajo. Estoy muy agradecida con la academia.",
    calificacion: 5,
    tipo: "padre",
  },
  {
    nombre: "Francisco Pérez",
    texto:
      "Las presentaciones de fin de curso son impresionantes. Se nota el esfuerzo y dedicación de los maestros y alumnos. Estoy muy orgulloso de mi hija.",
    calificacion: 5,
    tipo: "padre",
  },
  {
    nombre: "Patricia Castillo",
    texto:
      "La paciencia y dedicación de los profesores han hecho que mi hijo se enamore de la danza. ¡Qué gran equipo tienen!",
    calificacion: 5,
    tipo: "padre",
  },
  {
    nombre: "Alejandra Gómez",
    texto:
      "La academia ha sido un lugar de crecimiento y aprendizaje constante para mi hija. Los valores que promueven son invaluables.",
    calificacion: 5,
    tipo: "padre",
  },
  {
    nombre: "Roberto Sánchez",
    texto:
      "Nunca imaginé que mi hijo pudiera disfrutar tanto de una actividad. Di Ballu ha sido una experiencia maravillosa para nuestra familia.",
    calificacion: 5,
    tipo: "padre",
  },
];
---

<link
  href="https://cdn.jsdelivr.net/npm/keen-slider@6.8.6/keen-slider.min.css"
  rel="stylesheet"
/>

<script type="module">
  import KeenSlider from "https://cdn.jsdelivr.net/npm/keen-slider@6.8.6/+esm";

  const keenSlider = new KeenSlider(
    "#keen-slider",
    {
      loop: true,
      slides: {
        origin: "center",
        perView: 1.25,
        spacing: 16,
      },
      breakpoints: {
        "(min-width: 1024px)": {
          slides: {
            origin: "auto",
            perView: 2.5,
            spacing: 32,
          },
        },
      },
    },
    []
  );

  const keenSliderPrevious = document.getElementById("keen-slider-previous");
  const keenSliderNext = document.getElementById("keen-slider-next");

  keenSliderPrevious.addEventListener("click", () => keenSlider.prev());
  keenSliderNext.addEventListener("click", () => keenSlider.next());
</script>

<section
  class="bg-gradient-to-b from-gray-50 to-white py-12 md:py-24 relative overflow-hidden"
>
  <!-- Efecto de textura decorativa -->
  <div
    class="absolute inset-0 bg-[radial-gradient(#f3f4f6_1px,transparent_1px)] bg-[size:40px_40px] opacity-20"
  >
  </div>

  <div class="container mx-auto px-4 md:px-8 relative z-10">
    <div class="text-center mb-12 md:mb-16">
      <h2 class="text-4xl md:text-6xl font-bold text-gray-900">
        <span
          class="bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent"
        >
          Nuestra comunidad nos respaldan
        </span>
      </h2>

      <div class="mt-8 flex justify-center gap-3">
        <button
          aria-label="Slide anterior"
          id="keen-slider-previous"
          class="p-3 rounded-xl bg-white/80 backdrop-blur-sm border border-gray-300/50 hover:border-pink-500 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110"
        >
          <svg
            class="w-6 h-6 text-gray-700"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>

        <button
          aria-label="Siguiente slide"
          id="keen-slider-next"
          class="p-3 rounded-xl bg-white/80 backdrop-blur-sm border border-gray-300/50 hover:border-pink-500 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110"
        >
          <svg
            class="w-6 h-6 text-gray-700"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
      </div>
    </div>

    <div class="-mx-4 lg:mx-0">
      <div id="keen-slider" class="keen-slider">
        {
          testimonios.map((testimonio, index) => (
            <div class="keen-slider__slide">
              <div class="p-2 h-full">
                <blockquote class="flex flex-col justify-between h-full bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200/50 hover:border-pink-500/30">
                  <div>
                    <div class="flex gap-0.5 text-yellow-400 mb-4">
                      {[...Array(testimonio.calificacion)].map((_, i) => (
                        <svg
                          key={i}
                          class="w-6 h-6"
                          fill="currentColor"
                          viewBox="0 0 20 20"
                        >
                          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                      ))}
                    </div>

                    <p class="text-lg leading-relaxed text-gray-700 mb-6">
                      {testimonio.texto}
                    </p>
                  </div>

                  <footer class="pt-4 border-t border-gray-200/50">
                    <p class="text-xl font-bold text-gray-900">
                      {testimonio.nombre}
                      {testimonio.tipo && (
                        <span class="block text-sm font-medium text-pink-600 mt-1">
                          {testimonio.tipo === "padre"
                            ? "Padre de Familia"
                            : "Alumno"}
                        </span>
                      )}
                    </p>
                  </footer>
                </blockquote>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>

